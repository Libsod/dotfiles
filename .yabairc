# startup commands
yabai -m signal --add event=dock_did_restart action="sudo yabai --load-sa"
sudo yabai --load-sa

# new window spawns to the right if vertical split, or bottom if horizontal split
yabai -m config window_placement second_child

# set all padding and gaps 
yabai -m config top_padding 10
yabai -m config bottom_padding 10
yabai -m config left_padding 10
yabai -m config right_padding 10
yabai -m config window_gap 10

# auto balance split ratio
yabai -m config auto_balance off

# set mouse interaction modifier key
yabai -m config mouse_modifier fn

# set modifier + left-click drag to move window 
yabai -m config mouse_action1 move

# set modifier + right-click drag to resize window 
yabai -m config mouse_action2 resize

# modify window's shadows 
yabai -m config window_shadow on

# space layouts
yabai -m config --space 1 layout stack
yabai -m config --space 2 layout float
yabai -m config --space 3 layout stack
yabai -m config --space 4 layout float

# rule for floating system preferences window
yabai -m rule --add app="^System Preferences" manage=off

# firefox auto actions
yabai -m signal --add event=application_launched action="yabai -m window --focus $(yabai -m query --windows | jq \".[] | select(.app == \"Firefox\")\" | jq \".id\") && yabai -m window --space 1 --focus && yabai -m space --layout stack" app="^Firefox"

# alacritty auto actions
yabai -m signal --add event=application_launched action="yabai -m window --focus $(yabai -m query --windows | jq \".[] | select(.app == \"Alacritty\")\" | jq \".id\") && yabai -m window --space 2 --focus && yabai -m space --layout float" app="^Alacritty"

# telegram auto actions
yabai -m signal --add event=application_launched action="yabai -m window --focus $(yabai -m query --windows | jq \".[] | select(.app == \"Telegram\")\" | jq \".id\") && yabai -m window --space 3 --focus && yabai -m space --layout stack" app="^Telegram"

# discord auto actions
yabai -m signal --add event=application_launched action="yabai -m window --focus $(yabai -m query --windows | jq \".[] | select(.app == \"Discord\")\" | jq \".id\") && yabai -m window --space 3 --focus && yabai -m space --layout stack" app="^Discord"
